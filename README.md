# 图像采集与安全检测系统

这是一个基于 Python 的图像采集与安全检测系统，支持摄像头实时采集和手动图片选择两种方式，并具有图像加密和安全检测功能。

## 功能特点

- 摄像头实时采集
- 手动图片选择
- 图像加密处理
- 安全检测机制
- 篡改检测报警
- UNet深度学习篡改检测

## 安装说明

1. 克隆项目
2. 安装依赖：
```bash
pip install -r requirements.txt
```

## 使用说明

1. 启动服务器：
```bash
python main.py
```

2. 访问 Web 界面：
打开浏览器访问 http://localhost:8000

## 项目结构

```
├── main.py                    # 主程序入口
├── requirements.txt           # 项目依赖
├── config/                    # 配置文件目录
├── modules/                   # 功能模块
│   ├── capture/               # 采集模块
│   ├── encryption/            # 加密模块
│   ├── detection/             # 检测模块
│   │   ├── tamper_detection.py  # 篡改检测实现
│   │   └── unet_model.py        # UNet模型实现
│   └── storage/               # 存储模块
├── static/                    # 静态文件
├── generate_synthetic_data.py # 生成合成训练数据
└── train_unet_model.py        # 训练UNet模型
```

## 环境要求

- Python 3.8+
- OpenCV
- FastAPI
- PyTorch
- 其他依赖见 requirements.txt 

# 图像篡改检测系统

## 概述
本系统用于检测图像是否被篡改，提供了图像上传、检测和实时监控功能。用户可以通过上传图像或使用摄像头采集图像进行检测。

## 算法模型
本系统使用以下算法模型：

1. **图像差异检测算法**：
   - 通过计算图像的每个像素的RGB值差异来识别变化。
   - 该算法比较当前帧与基准图像，判断是否存在显著变化。

2. **阈值判断**：
   - 设定一个变化阈值，用于判断变化是否显著。
   - 通过调整阈值，可以控制算法的灵敏度，以适应不同的应用场景。

3. **区域标记**：
   - 在检测到变化的区域绘制红色框，以便用户能够直观地看到变化的位置。

4. **实时监控**：
   - 持续监控选定区域的变化，并在检测到变化时发出警报。

5. **UNet深度学习模型**：
   - 使用UNet卷积神经网络模型进行图像篡改检测。
   - 该模型能够更精确地定位图像中的篡改区域，提供像素级别的篡改定位。
   - 针对复杂场景下的篡改检测具有更高的准确率。

## 模块说明

- **modules/detection/tamper_detection.py**：
  - 实现图像篡改检测的核心算法，包括图像差异计算和变化检测。
  - 使用图像差异检测算法来识别图像中的变化。
  - 集成UNet深度学习模型进行更精确的篡改检测。

- **modules/detection/unet_model.py**：
  - 实现UNet深度学习模型架构。
  - 提供图像预处理和后处理功能。
  - 支持像素级篡改检测。

- **modules/storage/image_storage.py**：
  - 负责图像的存储和管理，包括保存和检索图像数据。
  - 提供高效的图像存储解决方案，支持多种存储格式。

- **modules/encryption/image_encryption.py**：
  - 提供图像加密和解密功能，确保图像数据的安全性。
  - 使用加密算法保护图像数据，防止未经授权的访问。

- **modules/capture/camera.py**：
  - 处理摄像头的实时图像采集，支持视频流的捕获和处理。
  - 提供高效的图像采集接口，支持多种摄像头设备。

这些模块共同构成了图像篡改检测系统的核心功能。

## 训练UNet模型

本系统集成了UNet深度学习模型进行图像篡改检测。您可以按照以下步骤训练自己的UNet模型：

1. **生成训练数据**：
```bash
python generate_synthetic_data.py
```
这将在`data/tampering_dataset`目录下生成合成的篡改图像数据集，包括原始图像、篡改图像和篡改掩码。

2. **训练模型**：
```bash
python train_unet_model.py
```
训练完成后，模型将保存在`modules/detection/unet_model.pth`。

3. **配置系统**：
在`config/settings.py`中，确保`USE_UNET`设置为`True`以启用UNet模型进行篡改检测。

## 性能评估

UNet模型相比传统方法有以下优势：
- 更高的篡改检测准确率
- 像素级篡改区域定位
- 对复杂场景下的篡改更鲁棒
- 能够识别更细微的篡改痕迹

通过集成UNet深度学习模型，本系统在图像篡改检测任务上实现了更高的性能。 